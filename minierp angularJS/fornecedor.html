<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="estilo.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
  <title>Mini ERP Bludata Flávio</title>
</head>
<body>

    <nav class="nav">
        <li class="nav-item">
            <a class="nav-link active" href="index.html">Empresas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="fornecedor.html" tabindex="-1">Fornecedor</a>
        </li>
    </nav>

    <div ng-app="app" ng-controller="FornecedorController">
        <form class="well">

            <div class="col-md-12">
                <div class="row">
                 
                    <div class="col-md-2" style="text-align: right;">
                        <label>Empresa</label>
                     </div>
                     <div class="col-md-10">
                        
                        <input type="text" name="empresa" ng-model="newfornecedor.idempresa" />
                        <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#modelId">
                            ...
                        </button>
                        {{newfornecedor.nomeempresa}}
                    </div>
                
                    <div class="modal fade" id="modelId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                    <div class="modal-header">
                                            <h5 class="modal-title">Localizar Empresa</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                        </div>
                                <div class="modal-body">
                                    <div class="container-fluid">


                             <label>Pesquisa Empresa: <input ng-model="searchText"></label>
                                <table id="searchTextResults">
                                  <tr><th>Nome</th><th>Cnpj</th></tr>
                                <tr ng-repeat="emp in empresas | filter:searchText">
                                <td><a href="#" ng-click="okSeleciona(emp)">{{emp.nomeFantasia}}</a></td>
                                <td>{{emp.cnpj}}</td>
                                
                            </tr>
                            </table>
                            <hr>

                            



                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <script>
                        $('#exampleModal').on('show.bs.modal', event => {
                            var button = $(event.relatedTarget);
                            var modal = $(this);
                            
                        });
                    </script>

                </div>
                <div class="row">
                 <div class="col-md-2" style="text-align: right;">
                    <label>Nome Fornecedor</label>
                 </div>
                 <div class="col-md-10">
                    <input type="text" name="nomeFornecedor" ng-model="newfornecedor.nomeFornecedor" />
                 </div>                
                </div> 

                <div class="row">
                    <div class="col-md-2" style="text-align: right;">
                       
                    </div>
                    <div class="col-md-10">
                       <input type="radio" name="pessoaTipo" value="PF" ng-model="newfornecedor.tipo" /> Pessoa Física
                       <input type="radio" name="pessoaTipo" value="PJ" ng-model="newfornecedor.tipo" /> Pessoa Jurídica
                    </div>                
                   </div> 

                <div class="row">
                    <div class="col-md-2" style="text-align: right;">
                        <label>Cnpj</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" name="cnpj" ng-model="newfornecedor.cnpj" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2" style="text-align: right;">
                        <label>Rg</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" name="Rg" ng-model="newfornecedor.rg" />        
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-2" style="text-align: right;">
                        <label>Data Nascimento</label>
                    </div>
                    <div class="col-md-10">
                        <input type="text" name="dataNascimento" ng-model="newfornecedor.dataNascimento" />        
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-2" style="text-align: right;">
                        
                    </div>
                    <div class="col-md-10">
                        
            <input type="hidden" ng-model="newfornecedor.id" />
            <input type="button" value="Incluir Fornecedor" ng-click="saveFornecedor()" class="btn btn-primary" />
                    </div>
                </div>
            
            </div>
            
        </form>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Nome Fornecedor</th>
                    <th>Cnpj</th>
                    <th>Telefones</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="fornecedor in fornecedores">
                    <td>{{ fornecedor.nomeFantasia }}</td>
                    <td>{{ fornecedor.cnpj }}</td>
                    <td>{{ fornecedor.telefones }}</td>
                    <td> <a href="javascript:void(0)" ng-click="edit(fornecedor.id)">edit</a> | <a href="javascript:void(0)" ng-click="delete(fornecedor.id)">delete</a>
    
                    </td>
                </tr>
            </tbody>
        </table>
    </div>




<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.min.js"></s
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="app.js"></script>

<script src="empresa.service.js"></script>
<script src="empresa.controller.js"></script>
<script src="fornecedor.service.js"></script>
<script src="fornecedor.controller.js"></script>
<script src="searchFast.controller.js"></script>
</body>
</html>